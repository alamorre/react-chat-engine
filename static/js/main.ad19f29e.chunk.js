(this["webpackJsonpreact-chat-engine-example"]=this["webpackJsonpreact-chat-engine-example"]||[]).push([[0],{32:function(e,t,a){e.exports=a(74)},33:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);a(33);var n=a(0),r=a.n(n),s=a(28),o=a.n(s),i=a(6),c=a(1),l=a(2),u=a(4),h=a(3),d=a(29),p=a(14),m=a.n(p),v=a(8),g=a.n(v),f=a(76),b=a(77),y=a(78),x=a(79),E=a(80),C=a(5);function w(e){var t=e.publicKey,a=e.userName,n=e.userPassword,r=e.development,s=r?"ws://":"wss://",o=r?"127.0.0.1:8000":"api.chatengine.io";console.log("".concat(s).concat(o,"/person/?publicKey=").concat(t,"&username=").concat(a,"&secret=").concat(n));var i=new d.a("".concat(s).concat(o,"/person/?publicKey=").concat(t,"&username=").concat(a,"&secret=").concat(n));return i.onopen=function(t){console.log("User socket connect",t),e.onConnect&&e.onConnect(e)},i.onerror=function(t){console.log("User socket error",t),"TIMEOUT"===t.message&&e.onFailAuth&&e.onFailAuth(e)},i.onmessage=function(t){var a=JSON.parse(t.data);console.log("action",a.action),"new_chat"===a.action?e.onNewChat&&e.onNewChat(a.data):"edit_chat"===a.action?e.onEditChat&&e.onEditChat(a.data):"delete_chat"===a.action?e.onDeleteChat&&e.onDeleteChat(a.data):"add_person"===a.action?e.onAddPerson&&e.onAddPerson(a.data):"remove_person"===a.action?e.onRemovePerson&&e.onRemovePerson(a.data):"new_message"===a.action?e.onNewMessage&&e.onNewMessage(a.data.id,a.data.messages):"edit_message"===a.action?e.onEditMessage&&e.onEditMessage(a.data.id,a.data.messages):"delete_message"===a.action&&e.onDeleteMessage&&e.onDeleteMessage(a.data.id,a.data.messages)},i}var O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={rws:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.publicKey?this.setState({rws:w(this.props)}):console.log("You need an API key. Register for one here: https://chatengine.io")}},{key:"componentWillUnmount",value:function(){this.state.rws.close()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component);function j(e){return e.development?"http://127.0.0.1:8000":"https://api.chatengine.io"}var k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={hovered:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.icon,s=t.theme,o=t.style,c="danger"==s?S.dangerButton:S.button,l=o||{},u=this.state.hovered?S.hoverButton:{};return r.a.createElement("button",{type:this.props.type,onClick:function(){return e.props.onClick&&e.props.onClick()},onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},style:Object(i.a)(Object(i.a)(Object(i.a)({},c),l),u)},"plus"==n&&r.a.createElement(f.a,null),"send"==n&&r.a.createElement(b.a,null),"delete"==n&&r.a.createElement(y.a,null),"user-add"==n&&r.a.createElement(x.a,null),a&&n?" ".concat(a):a)}}]),a}(n.Component),S={button:{color:"white",border:"none",outline:"none",height:"36px",fontSize:"15px",cursor:"pointer",borderRadius:"4px",padding:"8px 16px",borderRadius:"24px",backgroundColor:"#1890ff"},dangerButton:{color:"red",border:"none",outline:"none",height:"36px",fontSize:"15px",cursor:"pointer",borderRadius:"4px",padding:"8px 16px",borderRadius:"24px",backgroundColor:"white",border:"2px solid red"},hoverButton:{opacity:"0.66"}},M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={focused:!1,value:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.default;if(e){var t={target:{value:e}};this.props.handleChange(t),this.setState({value:e})}}},{key:"render",value:function(){var e=this,t=this.props.style?this.props.style:{},a=this.state.focused?P.focusInput:P.input;return r.a.createElement("input",{value:this.props.value,placeholder:this.props.label,style:Object(i.a)(Object(i.a)({},a),t),onBlur:function(){return e.setState({focused:!1})},onFocus:function(){return e.setState({focused:!0})},type:this.props.type?this.props.type:"text",onChange:function(t){return e.props.handleChange&&e.props.handleChange(t)}})}}]),a}(n.Component),P={input:{outline:"none",height:"36px",fontSize:"16px",padding:"0px 12px",borderRadius:"4px",borderRadius:"24px",border:"1px solid #d9d9d9"},focusInput:{outline:"none",height:"36px",fontSize:"16px",padding:"0px 12px",borderRadius:"4px",borderRadius:"24px",border:"1px solid #1890ff"}},A=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t,a,n,r=this;e.preventDefault(),t=this.props.creds,a={title:this.state.value},n=function(){return r.setState({value:""})},g.a.post("".concat(j(t),"/chats/"),a,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){n&&n(e.data)})).catch((function(e){console.log("New Chat Error",e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(M,{label:"Title",value:this.state.value,style:{width:"calc(100% - 26px)"},handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(k,{icon:"plus",type:"submit",value:"New Chat",style:{width:"100%"}}))}}]),a}(r.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderChats",value:function(e){var t=this;return m.a.map(e,(function(e,a){var n,s=e&&t.props.activeChat===e.id?D.activeChat:{};return e?r.a.createElement("div",{key:"chat_".concat(a),onClick:function(){return t.props.onChatClick(e.id)},style:Object(i.a)(Object(i.a)({},D.chatContainer),s)},r.a.createElement("div",{style:D.titleText},e.title),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{style:D.messageText},e.last_message.text?e.last_message.text:"Say hello!"),r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},D.messageText),{float:"right",textAlign:"right",width:"25%",position:"relative",bottom:"17px"})},(n=e.last_message.created,Date(n).substr(4,6))))):r.a.createElement("div",null)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh",borderRight:"1px solid #afafaf"}},this.renderChats(this.props.chats),r.a.createElement("div",{style:{position:"absolute",bottom:"0px",width:"100%"}},r.a.createElement(A,{creds:this.props.creds})))}}]),a}(n.Component),D={chatContainer:{padding:"16px",cursor:"pointer"},titleText:{fontWeight:"500",paddingBottom:"4px",whiteSpace:"nowrap",overflow:"hidden"},messageText:{width:"75%",color:"rgba(153, 153, 153, 1)",fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden"},activeChat:{backgroundColor:"#d9d9d9",border:"4px solid white",borderRadius:"12px"}},K=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.chat;return e?r.a.createElement("div",{style:{position:"absolute",top:"0px",width:"100%",zIndex:"999"}},r.a.createElement("div",{style:R.titleContainer},r.a.createElement("div",{style:R.titleText},e&&e.title),r.a.createElement("div",{style:R.subtitleText},"Active ",function(e){var t=Date(e),a=t.substr(0,10),n=t.substr(15,6);return"".concat(a," at ").concat(n)}(e.last_message.created))),r.a.createElement("div",{style:R.bottomFade})):r.a.createElement("div",null)}}]),a}(n.Component),R={titleContainer:{padding:"18px",textAlign:"center",color:"rgb(24, 144, 255)",backgroundColor:"white"},titleText:{fontSize:"24px",fontWeight:"600"},subtitleText:{fontSize:"12px"},bottomFade:{height:"18px",backgroundImage:"linear-gradient(to bottom, rgba(255,255,255, 1), rgba(255,255,255, 0) 100%)"}},U=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh",textAlign:"center"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("img",{style:{width:"40%",paddingTop:"25vh"},src:"https://chat-engine-assets.s3.amazonaws.com/denied.svg",alt:"welcome-to-chat-engine"})),r.a.createElement("div",{style:{fontSize:"18px",paddingTop:"24px",width:"75%",paddingLeft:"12.5%"}},"Your credentials are incorrect. Make sure your Public Key, Username, and Password are correct at ",r.a.createElement("a",{href:"https://chatengine.io"},"chatengine.io")))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{style:{width:"100%",position:"relative",top:"calc(50vh - 26px)",textAlign:"center",fontSize:"52px"}})}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh",textAlign:"center"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("img",{style:{width:"60%",paddingTop:"33vh"},src:"https://chat-engine-assets.s3.amazonaws.com/welcome.svg",alt:"welcome-to-chat-engine"})),r.a.createElement("div",{style:{fontSize:"18px",paddingTop:"24px",width:"75%",paddingLeft:"12.5%"}},'Fill out the "New Chat" form to get started.'))}}]),a}(n.Component),z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t,a,n,r;e.preventDefault(),t=this.props.creds,a=this.props.chatId,n=this.props.message.id,r={text:this.state.value},g.a.patch("".concat(j(t),"/chats/").concat(a,"/messages/").concat(n,"/"),r,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Messages Error",e)}))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"new-msg-form"},r.a.createElement(M,{type:"text",label:"Edit message...",value:this.state.value,style:{width:"calc(100% - 84px)"},handleChange:this.handleChange.bind(this)}),r.a.createElement(k,{type:"submit",value:"Edit"}))}}]),a}(r.a.Component);Object(C.setConfiguration)({maxScreenClass:"xl"});var F=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selected:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.creds,n=t.chatId,s=t.lastMessage,o=t.message,c=t.nextMessage;if(!o)return r.a.createElement("div",null);var l=s&&s.sender===o.sender?"0.3em":"1.3em",u=c&&c.sender===o.sender?"0.3em":"1.3em",h="1.3em ".concat(l," ").concat(u," 1.3em"),d=c&&c.sender===o.sender?"2px":"12px";return r.a.createElement("div",{style:{width:"100%",float:"right",paddingBottom:d},onMouseEnter:function(){return e.setState({selected:!0})},onMouseLeave:function(){return e.setState({selected:!1})}},r.a.createElement(C.Row,{style:{paddingRight:"2px"}},r.a.createElement(C.Col,{xs:1,sm:2,md:3}),r.a.createElement(C.Col,{xs:11,sm:10,md:9},r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},_.myMessage),{borderRadius:h})},o.text)),r.a.createElement(C.Col,{xs:1,sm:2,md:3}),r.a.createElement(C.Col,{xs:11,sm:10,md:9},this.state.selected&&r.a.createElement("div",{style:{width:"100%",height:"44px"}},r.a.createElement("div",{style:{width:"calc(100% - 52px)"}},r.a.createElement(z,{creds:a,chatId:n,message:o})),r.a.createElement(k,{theme:"danger",icon:"delete",style:{float:"right",position:"relative",bottom:"37px"},onClick:function(){return function(e,t,a){g.a.delete("".concat(j(e),"/chats/").concat(t,"/messages/").concat(a,"/"),{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Messages Error",e)}))}(a,n,o.id)}})))))}}]),a}(n.Component),_={myMessage:{color:"white",cursor:"pointer",float:"right",padding:"12px",backgroundColor:"rgb(24, 144, 255)"}},B=["#D64045","#5B3000","#00CC99","#467599","#1D3354","#8F250C","#6153CC","#961D4E","#A29F15","#0CAADC","#FF5154","#FA7921","#688E26","#550527","#A10702","#FF1053","#6C6EA0","#100B00"];var L=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.props.style?this.props.style:{},a=this.props.text.substring(0,2).toUpperCase(),n=(e=this.props.text,B[function(e){for(var t=0,a=0;a<e.length;a++)t=t+e.charCodeAt(a)*a-97;return t}(e)%B.length]);return r.a.createElement("div",{style:Object(i.a)(Object(i.a)(Object(i.a)({},G.avatar),t),{backgroundColor:n})},r.a.createElement("div",{style:{color:"white",paddingTop:"12px",fontSize:"15px",fontWeight:"600"}},a))}}]),a}(n.Component),G={avatar:{width:"44px",height:"44px",borderRadius:"22px",color:"white",textAlign:"center"}};Object(C.setConfiguration)({maxScreenClass:"xl"});var W=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selected:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.lastMessage,n=t.message,s=t.nextMessage;if(!n)return r.a.createElement("div",null);var o=a&&a.sender===n.sender?"0.3em":"1.3em",c=s&&s.sender===n.sender?"0.3em":"1.3em",l="".concat(o," 1.3em 1.3em ").concat(c),u=s&&s.sender===n.sender?"2px":"12px";return r.a.createElement("div",{style:{width:"100%",paddingBottom:u}},r.a.createElement(C.Row,{style:{paddingLeft:"2px"}},r.a.createElement(C.Col,{xs:11,sm:10,md:9},r.a.createElement("div",{style:{height:"0px"}},s&&s.sender===n.sender?r.a.createElement("div",null):r.a.createElement(L,{text:n.sender})),r.a.createElement("div",{style:{paddingLeft:"48px"}},r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},J.theirMessage),{borderRadius:l}),onMouseEnter:function(){return e.setState({selected:!0})},onMouseLeave:function(){return e.setState({selected:!1})}},n.text)))))}}]),a}(n.Component),J={theirMessage:{cusor:"auto",color:"black",float:"left",padding:"12px",borderRadius:"1.3em",backgroundColor:"#f1f0f0"}},Y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selected:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.creds,a=e.chatId,n=e.lastMessage,s=e.message,o=e.nextMessage;return s?s.sender==t.userName?r.a.createElement(F,{creds:t,chatId:a,lastMessage:n,message:s,nextMessage:o}):r.a.createElement(W,{creds:t,chatId:a,lastMessage:n,message:s,nextMessage:o}):r.a.createElement("div",null)}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t,a,n,r,s=this;e.preventDefault(),t=this.props.creds,a=this.props.chatId,n={text:this.state.value},r=function(){return s.setState({value:""})},g.a.post("".concat(j(t),"/chats/").concat(a,"/messages/"),n,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){r&&r(e.data)})).catch((function(e){console.log("Send Messages Error",e)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{position:"absolute",bottom:"12px",width:"90%",left:"5%"}},r.a.createElement("form",{id:"new-msg-form",onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{style:H.inputContainer},r.a.createElement(M,{label:"Send a message...",value:this.state.value,handleChange:this.handleChange.bind(this),style:{borderColor:"white",width:"calc(100% - 18px - 56px)"}}),r.a.createElement("div",{style:{float:"right",position:"relative",top:"1px",right:"1px"}},r.a.createElement(k,{type:"submit",icon:"send"})))))}}]),a}(r.a.Component),H={inputContainer:{width:"100%",borderRadius:"24px",backgroundColor:"white",border:"1px solid rgb(217, 217, 217)"}},Q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderMessages",value:function(e){var t=this,a=Object.keys(e);return a.map((function(n,s){var o=e[n],i=0==s?null:a[s-1],c=s==a.length-1?null:a[s+1];return r.a.createElement(Y,{key:"message_".concat(s),creds:t.props.creds,chatId:t.props.chatId,lastMessage:e[i],message:o,nextMessage:e[c]})}))}},{key:"render",value:function(){var e=this.props,t=e.messages,a=e.chats,n=e.creds,s=e.chatId,o=a&&a[s];return null===n?r.a.createElement(T,null):void 0===n?r.a.createElement(U,null):n&&null!==a&&m.a.isEmpty(a)?r.a.createElement(I,null):r.a.createElement("div",{style:{height:"100vh",backgroundColor:"#f0f0f0"}},r.a.createElement(K,{chat:o}),r.a.createElement("div",{style:V.feedContainer},r.a.createElement("div",{style:{height:"92px"}}),this.renderMessages(t)),r.a.createElement(q,{chatId:s,creds:n}))}}]),a}(n.Component),V={feedContainer:{position:"absolute",top:"0px",height:"calc(100% - 72px)",width:"100%",overflow:"scroll",borderRadius:"24px",backgroundColor:"white"}},X=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={activeChat:null,value:""},e}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t,a,n;e.preventDefault(),t=this.props.creds,a=this.props.chat.id,n={title:this.state.value},g.a.patch("".concat(j(t),"/chats/").concat(a,"/"),n,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){})).catch((function(e){console.log("Edit Chat Error",e)}))}},{key:"componentDidUpdate",value:function(){this.props.chat.title!==this.state.value&&this.state.activeChat!==this.props.chat.id&&this.setState({value:this.props.chat.title,activeChat:this.props.chat.id})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(M,{label:"Rename this Chat",value:this.state.value,default:this.props.chat.title,handleChange:this.handleChange.bind(this),style:{fontSize:"16px",fontWeight:"600",textAlign:"center",border:"0px solid white",width:"calc(100% - 24px)"}}))}}]),a}(r.a.Component),Z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selected:!1},e}return Object(l.a)(a,[{key:"onRemovePerson",value:function(){var e,t,a;e=this.props.creds,t=this.props.chat.id,a=this.props.person.person,g.a.patch("".concat(j(e),"/chats/").concat(t,"/people/"),{username:a},{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Person Error",e)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.person,n=t.chat,s=t.creds;return a?r.a.createElement("div",{onMouseEnter:function(){return e.setState({selected:!0})},onMouseLeave:function(){return e.setState({selected:!1})}},r.a.createElement("div",{style:{padding:"2px",height:"0px"}},r.a.createElement(L,{text:a.person})),r.a.createElement("div",{style:{paddingLeft:"52px",height:"44px",position:"relative",top:"10px"}},a.person!==n.admin?a.person:"".concat(a.person," (Admin)")),this.state.selected&&s.userName===n.admin&&a.person!==n.admin&&r.a.createElement("div",{style:{float:"right",height:"0px",position:"relative",bottom:"44px"}},r.a.createElement(k,{theme:"danger",icon:"delete",onClick:function(){return e.onRemovePerson()}}))):r.a.createElement("div",null)}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t,a,n,r,s=this;e.preventDefault(),t=this.props.creds,a=this.props.chat.id,n=this.state.value,r=function(){return s.setState({value:""})},g.a.post("".concat(j(t),"/chats/").concat(a,"/people/"),{username:n},{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){r&&r(e.data)})).catch((function(e){console.log("New Person Error",e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"new-msg-form"},r.a.createElement(M,{label:"Type a username",value:this.state.value,handleChange:function(t){return e.handleChange(t)},style:{width:"calc(100% - 24px)",marginBottom:"12px"}}),r.a.createElement(k,{type:"submit",value:"Add Group Member",icon:"user-add",style:{width:"100%",marginBottom:"12px"}}))}}]),a}(r.a.Component),ee=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderPeople",value:function(e){var t=this;return e.map((function(e,a){return r.a.createElement(Z,{key:"person_".concat(a),person:e,creds:t.props.creds,chat:t.props.chat})}))}},{key:"render",value:function(){var e=this.props,t=e.creds,a=e.chat;return a?r.a.createElement("div",null,this.renderPeople(a.people),r.a.createElement("div",{style:{height:"12px"}}),a.admin===t.userName&&r.a.createElement($,{creds:t,chat:a})):r.a.createElement("div",null)}}]),a}(r.a.Component),te=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderOnePerson",value:function(e){return r.a.createElement(C.Col,{xs:6,style:{paddingTop:"22px",height:"80px"}},r.a.createElement("div",{style:{margin:"auto",width:"33%"}},r.a.createElement(L,{text:e[0].person})))}},{key:"renderTwoPeople",value:function(e){return r.a.createElement(C.Col,{xs:6,style:{paddingTop:"22px",height:"80px"}},r.a.createElement("div",{style:{margin:"auto",width:"50%"}},r.a.createElement(L,{text:e[0].person,style:{float:"left",position:"relative",right:"5px"}}),r.a.createElement(L,{text:e[1].person,style:{float:"right",position:"relative",left:"5px",bottom:"44px",zIndex:11}})))}},{key:"renderThreePeople",value:function(e){return r.a.createElement(C.Col,{xs:6,style:{paddingTop:"22px",height:"80px"}},r.a.createElement("div",{style:{margin:"auto",width:"50%"}},r.a.createElement(L,{text:e[0].person,style:{position:"relative",top:"10px"}}),r.a.createElement(L,{text:e[1].person,style:{float:"right",position:"relative",right:"8px",bottom:"56px",zIndex:11}}),r.a.createElement(L,{text:e[2].person,style:{float:"right",position:"relative",left:"5px",bottom:"78px",zIndex:11}})))}},{key:"render",value:function(){var e=this.props,t=e.chat,a=e.creds,n=t?t.people.slice(0,3):[];return t?r.a.createElement("div",{style:{height:"100vh",width:"90%",paddingLeft:"5%",borderLeft:"1px solid #afafaf"}},r.a.createElement(C.Row,null,r.a.createElement(C.Col,{xs:3}),1==n.length&&this.renderOnePerson(n),2==n.length&&this.renderTwoPeople(n),3==n.length&&this.renderThreePeople(n),r.a.createElement(C.Col,{xs:3})),r.a.createElement(X,{chat:t,creds:a}),r.a.createElement("div",{style:{fontSize:"17px",padding:"12px",paddingBottom:"0px",fontWeight:"600"}},"People"),r.a.createElement("div",{style:{height:"12px"}}),r.a.createElement(ee,{creds:a,chat:t}),t.admin===a.userName&&r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:"17px",padding:"12px",paddingBottom:"0px",fontWeight:"600"}},"Options"),r.a.createElement("div",{style:{height:"12px"}}),r.a.createElement(k,{value:"Delete",theme:"danger",icon:"delete",onClick:function(){return e=a,n=t.id,void g.a.delete("".concat(j(e),"/chats/").concat(n,"/"),{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Chat Error",e)}));var e,n},style:{width:"100%",marginBottom:"12px"}}))):r.a.createElement("div",{style:{height:"100vh",width:"90%",paddingLeft:"5%",borderLeft:"1px solid #afafaf"}})}}]),a}(n.Component);Object(C.setConfiguration)({maxScreenClass:"xl",gutterWidth:0});var ae=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={creds:null,chats:null,messages:{},activeChat:null},e}return Object(l.a)(a,[{key:"onConnect",value:function(e){var t;this.setState({creds:e}),t=e,g.a.get("".concat(j(t),"/chats/"),{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){200===e.status&&t.onGetChats&&t.onGetChats(e.data)})).catch((function(e){console.log("Fetch Chats Error",e)}))}},{key:"onFailAuth",value:function(e){this.setState({creds:void 0})}},{key:"setActiveChat",value:function(e){this.setState({activeChat:e}),function(e,t){g.a.get("".concat(j(e),"/chats/").concat(t,"/messages/"),{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(a){200===a.status&&e.onGetMessages&&e.onGetMessages(t,a.data)})).catch((function(e){console.log("Fetch Messages Error",e)}))}(this.state.creds,e)}},{key:"onGetChats",value:function(e){e.length>0&&this.setActiveChat(e[0].id),this.setState({chats:m.a.mapKeys(e,"id")})}},{key:"onNewChat",value:function(e){var t=this.state.chats;t[e.id]=e,this.setState({chats:t,activeChat:e.id})}},{key:"onEditChat",value:function(e){var t=this.state.chats;t[e.id]=e,this.setState({chats:t})}},{key:"onDeleteChat",value:function(e){var t=this.state.chats;t[e.id]=void 0,this.setState({chats:t})}},{key:"onGetMessages",value:function(e,t){this.setState({messages:m.a.mapKeys(t,"id")})}},{key:"onNewMessage",value:function(e,t){if(e===this.state.activeChat){var a=this.state.messages;a[t.id]=t,this.setState({messages:a})}}},{key:"onEditMessage",value:function(e,t){if(e===this.state.activeChat){var a=this.state.messages;a[t.id]=t,this.setState({messages:a})}}},{key:"onDeleteMessage",value:function(e,t){if(e===this.state.activeChat){var a=this.state.messages;a[t.id]=void 0,this.setState({messages:a})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(O,Object.assign({},this.props,{onConnect:function(t){return e.onConnect(t)},onFailAuth:function(t){return e.onFailAuth(t)},onGetChats:function(t){return e.onGetChats(t)},onNewChat:function(t){return e.onNewChat(t)},onEditChat:function(t){return e.onEditChat(t)},onDeleteChat:function(t){return e.onDeleteChat(t)},onAddPerson:function(t){return e.onEditChat(t)},onRemovePerson:function(t){return e.onEditChat(t)},onGetMessages:function(t,a){return e.onGetMessages(t,a)},onNewMessage:function(t,a){return e.onNewMessage(t,a)},onEditMessage:function(t,a){return e.onEditMessage(t,a)},onDeleteMessage:function(t,a){return e.onDeleteMessage(t,a)}})),r.a.createElement(C.Row,null,r.a.createElement(C.Col,{sm:3},r.a.createElement(N,{creds:this.state.creds,chats:this.state.chats,activeChat:this.state.activeChat,onChatClick:function(t){return e.setActiveChat(t)}})),r.a.createElement(C.Col,{sm:6},r.a.createElement(Q,{creds:this.state.creds,chats:this.state.chats,chatId:this.state.activeChat,messages:this.state.messages})),r.a.createElement(C.Col,{sm:3},r.a.createElement(te,{creds:this.state.creds,chat:this.state.chats&&this.state.chats[this.state.activeChat]}))))}}]),a}(n.Component),ne=function(e){return e.hideExample?r.a.createElement(O,e):r.a.createElement(ae,e)};var re=function(e){return r.a.createElement(ne,e)},se=[{userName:"Adam_La_Morre",userPassword:"pass1234"}];function oe(){var e=se[Math.floor(Math.random()*se.length)];return console.log("user",e),r.a.createElement(re,{development:!0,publicKey:"1ed59673-1fd6-46ed-9eb9-56239a6a4f82",userName:e.userName,userPassword:e.userPassword})}o.a.render(r.a.createElement(oe,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ad19f29e.chunk.js.map