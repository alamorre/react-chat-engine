(this["webpackJsonpreact-chat-engine-example"]=this["webpackJsonpreact-chat-engine-example"]||[]).push([[0],{27:function(e,t,n){e.exports=n(69)},28:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);n(28);var a=n(0),r=n.n(a),s=n(23),o=n.n(s),i=n(24),l=n(9),c=n.n(l),h=n(3),p=n.n(h),d=n(71),u=n(72),m=n(73),g=n(74),f=n(75),v=n(1);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function C(e){var t=e.publicKey,n=e.userName,a=e.userPassword,r=e.development,s=r?"ws://":"wss://",o=r?"127.0.0.1:8000":"api.chatengine.io";console.log(""+s+o+"/person/?publicKey="+t+"&username="+n+"&secret="+a);var l=new i.a(""+s+o+"/person/?publicKey="+t+"&username="+n+"&secret="+a);return l.onopen=function(t){console.log("User socket connect",t),e.onConnect&&e.onConnect(e)},l.onerror=function(t){console.log("User socket error",t),"TIMEOUT"===t.message&&e.onFailAuth&&e.onFailAuth(e)},l.onmessage=function(t){var n=JSON.parse(t.data);console.log("action",n.action),"new_chat"===n.action?e.onNewChat&&e.onNewChat(n.data):"edit_chat"===n.action?e.onEditChat&&e.onEditChat(n.data):"delete_chat"===n.action?e.onDeleteChat&&e.onDeleteChat(n.data):"add_person"===n.action?e.onAddPerson&&e.onAddPerson(n.data):"remove_person"===n.action?e.onRemovePerson&&e.onRemovePerson(n.data):"new_message"===n.action?e.onNewMessage&&e.onNewMessage(n.data.id,n.data.messages):"edit_message"===n.action?e.onEditMessage&&e.onEditMessage(n.data.id,n.data.messages):"delete_message"===n.action&&e.onDeleteMessage&&e.onDeleteMessage(n.data.id,n.data.messages)},l}var E,b,w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={rws:null},t}y(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.publicKey?this.setState({rws:C(this.props)}):console.log("You need an API key. Register for one here: https://chatengine.io")},n.componentWillUnmount=function(){this.state.rws.close()},n.render=function(){return r.a.createElement("div",null)},t}(a.Component);function S(e){return e.development?"http://127.0.0.1:8000":"https://api.chatengine.io"}var M,N,P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={hovered:!1},t}return y(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.value,a=t.icon,s=t.theme,o=t.style,i="danger"==s?A.dangerButton:A.button,l=o||{},c=this.state.hovered?A.hoverButton:{};return r.a.createElement("button",{type:this.props.type,onClick:function(){return e.props.onClick&&e.props.onClick()},onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},style:x({},i,l,c)},"plus"==a&&r.a.createElement(d.a,null),"send"==a&&r.a.createElement(u.a,null),"delete"==a&&r.a.createElement(m.a,null),"user-add"==a&&r.a.createElement(g.a,null),n&&a?" "+n:n)},t}(a.Component),A={button:(E={color:"white",border:"none",outline:"none",height:"36px",fontSize:"15px",cursor:"pointer",borderRadius:"4px",padding:"8px 16px"},E.borderRadius="24px",E.backgroundColor="#1890ff",E),dangerButton:(b={color:"red",border:"none",outline:"none",height:"36px",fontSize:"15px",cursor:"pointer",borderRadius:"4px",padding:"8px 16px"},b.borderRadius="24px",b.backgroundColor="white",b.border="2px solid red",b),hoverButton:{opacity:"0.66"}},k=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={focused:!1,value:null},t}y(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.default;if(e){var t={target:{value:e}};this.props.handleChange(t),this.setState({value:e})}},n.render=function(){var e=this,t=this.props.style?this.props.style:{},n=this.state.focused?D.focusInput:D.input;return r.a.createElement("input",{value:this.props.value,placeholder:this.props.label,style:x({},n,t),onBlur:function(){return e.setState({focused:!1})},onFocus:function(){return e.setState({focused:!0})},type:this.props.type?this.props.type:"text",onChange:function(t){return e.props.handleChange&&e.props.handleChange(t)}})},t}(a.Component),D={input:(M={outline:"none",height:"36px",fontSize:"15px",padding:"0px 12px",borderRadius:"4px"},M.borderRadius="24px",M.border="1px solid #d9d9d9",M),focusInput:(N={outline:"none",height:"36px",fontSize:"15px",padding:"0px 12px",borderRadius:"4px"},N.borderRadius="24px",N.border="1px solid #1890ff",N)},R=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={value:""},t}y(t,e);var n=t.prototype;return n.handleChange=function(e){this.setState({value:e.target.value})},n.handleSubmit=function(e){var t,n,a,r=this;e.preventDefault(),t=this.props.creds,n={title:this.state.value},a=function(){return r.setState({value:""})},p.a.post(S(t)+"/chats/",n,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){a&&a(e.data)})).catch((function(e){console.log("New Chat Error",e)}))},n.render=function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{style:{width:"calc(100% - 26px)",border:"1px solid #d9d9d9",borderRadius:"24px",backgroundColor:"white"}},r.a.createElement("div",{style:{height:"0px"}},r.a.createElement(k,{label:"New Chat",value:this.state.value,style:{width:"calc(100% - 26px - 48px)",borderColor:"white"},handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{style:{width:"100%",textAlign:"right",marginTop:"1px"}},r.a.createElement(P,{icon:"plus",type:"submit"}))))},t}(r.a.Component),K=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderChats=function(e){var t=this;return c.a.map(e,(function(e,n){var a,s=e&&t.props.activeChat===e.id?U.activeChat:{};return e?r.a.createElement("div",{key:"chat_"+n,onClick:function(){return t.props.onChatClick(e.id)},style:x({},U.chatContainer,s)},r.a.createElement("div",{style:U.titleText},e.title),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{style:U.messageText},e.last_message.text?e.last_message.text:"Say hello!"),r.a.createElement("div",{style:x({},U.messageText,{float:"right",textAlign:"right",width:"25%",position:"relative",bottom:"17px"})},(a=e.last_message.created,Date(a).substr(4,6))))):r.a.createElement("div",null)}))},n.render=function(){return r.a.createElement("div",{style:U.chatListContainer},r.a.createElement("div",{style:U.chatsContainer},this.renderChats(this.props.chats),r.a.createElement("div",{style:{height:"64px"}}),this.props.renderNewChatForm?this.props.renderNewChatForm():r.a.createElement("div",{style:U.newChatContainer},r.a.createElement(R,{creds:this.props.creds}))))},t}(a.Component),U={chatListContainer:{height:"100%",maxHeight:"100vh",overflow:"scroll",borderRight:"1px solid #afafaf",backgroundColor:"white"},chatsContainer:{width:"100%",backgroundColor:"white",borderRadius:"0px 0px 24px 24px"},chatContainer:{padding:"16px",cursor:"pointer"},titleText:{fontWeight:"500",paddingBottom:"4px",whiteSpace:"nowrap",overflow:"hidden"},messageText:{width:"75%",color:"rgba(153, 153, 153, 1)",fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden"},activeChat:{backgroundColor:"#d9d9d9",border:"4px solid white",borderRadius:"12px"},newChatContainer:{position:"absolute",bottom:"0px",width:"100%",padding:"12px"}},T=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props.chat;return e?r.a.createElement("div",{style:{position:"absolute",top:"0px",width:"100%",zIndex:"999"}},r.a.createElement("div",{style:_.titleContainer},r.a.createElement("div",{style:_.titleText},e&&e.title),r.a.createElement("div",{style:_.subtitleText},"Active ",function(e){var t=Date(e);return t.substr(0,10)+" at "+t.substr(15,6)}(e.last_message.created)))):r.a.createElement("div",null)},t}(a.Component),_={titleContainer:{padding:"18px",textAlign:"center",color:"rgb(24, 144, 255)",backgroundColor:"rgb(256, 256, 256, 0.92)"},titleText:{fontSize:"24px",fontWeight:"600"},subtitleText:{fontSize:"12px"}},z=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){return r.a.createElement("div",{style:{height:"100%",textAlign:"center"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("img",{style:{width:"40%",paddingTop:"25vh"},src:"https://chat-engine-assets.s3.amazonaws.com/denied.svg",alt:"welcome-to-chat-engine"})),r.a.createElement("div",{style:{fontSize:"18px",paddingTop:"24px",width:"75%",paddingLeft:"12.5%"}},"Your credentials are incorrect. Make sure your Public Key, Username, and Password are correct at ",r.a.createElement("a",{href:"https://chatengine.io"},"chatengine.io")))},t}(a.Component),F=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){return r.a.createElement(f.a,{style:{width:"100%",position:"relative",top:"calc(50vh - 26px)",textAlign:"center",fontSize:"52px"}})},t}(a.Component),I=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){return r.a.createElement("div",{style:{height:"100%",textAlign:"center"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("img",{style:{width:"60%",paddingTop:"33vh"},src:"https://chat-engine-assets.s3.amazonaws.com/welcome.svg",alt:"welcome-to-chat-engine"})),r.a.createElement("div",{style:{fontSize:"18px",paddingTop:"24px",width:"75%",paddingLeft:"12.5%"}},'Fill out the "New Chat" form to get started.'))},t}(a.Component),L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={value:""},t}y(t,e);var n=t.prototype;return n.handleChange=function(e){this.setState({value:e.target.value})},n.handleSubmit=function(e){var t,n,a,r;e.preventDefault(),t=this.props.creds,n=this.props.chatId,a=this.props.message.id,r={text:this.state.value},p.a.patch(S(t)+"/chats/"+n+"/messages/"+a+"/",r,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Messages Error",e)}))},n.render=function(){return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"new-msg-form"},r.a.createElement(k,{type:"text",label:"Edit message...",value:this.state.value,style:{width:"calc(100% - 84px)"},handleChange:this.handleChange.bind(this)}),r.a.createElement(P,{type:"submit",value:"Edit"}))},t}(r.a.Component),B=["#D64045","#5B3000","#00CC99","#467599","#1D3354","#8F250C","#6153CC","#961D4E","#A29F15","#0CAADC","#FF5154","#FA7921","#688E26","#550527","#A10702","#FF1053","#6C6EA0","#100B00"];function G(e){return B[function(e){for(var t=0,n=0;n<e.length;n++)t=t+e.charCodeAt(n)*n-97;return t}(e)%B.length]}var O=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props.style?this.props.style:{},t=G(this.props.text);return r.a.createElement("div",{style:x({},W.avatar,e,{backgroundColor:t})})},t}(a.Component),W={avatar:{width:"10px",height:"10px",borderRadius:"22px",textAlign:"center"}};Object(v.setConfiguration)({maxScreenClass:"xl"});var j=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={selected:!1},t}y(t,e);var n=t.prototype;return n.renderReads=function(){var e=this.props,t=e.message,n=e.nextMessage;return t.reads.map((function(e,t){if(!n)return r.a.createElement(O,{key:"read_"+t,text:e.person,style:{float:"right"}})}))},n.render=function(){var e=this,t=this.props,n=t.creds,a=t.chatId,s=t.lastMessage,o=t.message,i=t.nextMessage;if(!o)return r.a.createElement("div",null);var l="1.3em "+(s&&s.sender===o.sender?"0.3em":"1.3em")+" "+(i&&i.sender===o.sender?"0.3em":"1.3em")+" 1.3em",c=i&&i.sender===o.sender?"2px":"12px";return r.a.createElement("div",{style:{width:"100%",float:"right",paddingBottom:c},onMouseEnter:function(){return e.setState({selected:!0})},onMouseLeave:function(){return e.setState({selected:!1})}},r.a.createElement(v.Row,{style:{paddingRight:"2px"}},r.a.createElement(v.Col,{xs:1,sm:2,md:3}),r.a.createElement(v.Col,{xs:11,sm:10,md:9},r.a.createElement("div",{style:x({},J.myMessage,{borderRadius:l})},o.text)),r.a.createElement(v.Col,{xs:1,sm:2,md:3}),r.a.createElement(v.Col,{xs:11,sm:10,md:9},this.state.selected&&r.a.createElement("div",{style:{width:"100%",height:"44px"}},r.a.createElement("div",{style:{width:"calc(100% - 52px)"}},r.a.createElement(L,{creds:n,chatId:a,message:o})),r.a.createElement(P,{theme:"danger",icon:"delete",style:{float:"right",position:"relative",bottom:"37px"},onClick:function(){return function(e,t,n){p.a.delete(S(e)+"/chats/"+t+"/messages/"+n+"/",{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Messages Error",e)}))}(n,a,o.id)}}))),r.a.createElement(v.Col,{xs:12},this.renderReads())))},t}(a.Component),J={myMessage:{color:"white",cursor:"pointer",float:"right",padding:"12px",fontSize:"15px",backgroundColor:"rgb(24, 144, 255)"}},H=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props.style?this.props.style:{},t=this.props.text.substring(0,2).toUpperCase(),n=G(this.props.text);return r.a.createElement("div",{style:x({},Y.avatar,e,{backgroundColor:n})},r.a.createElement("div",{style:{color:"white",paddingTop:"12px",fontSize:"15px",fontWeight:"600"}},t))},t}(a.Component),Y={avatar:{width:"44px",height:"44px",borderRadius:"22px",color:"white",textAlign:"center"}};Object(v.setConfiguration)({maxScreenClass:"xl"});var V=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={selected:!1},t}y(t,e);var n=t.prototype;return n.renderReads=function(){var e=this.props,t=e.message,n=e.nextMessage;return t.reads.map((function(e,t){if(!n)return r.a.createElement(O,{key:"read_"+t,text:e.person,style:{marginLeft:"48px"}})}))},n.render=function(){var e=this,t=this.props,n=t.lastMessage,a=t.message,s=t.nextMessage;if(!a)return r.a.createElement("div",null);var o=(n&&n.sender===a.sender?"0.3em":"1.3em")+" 1.3em 1.3em "+(s&&s.sender===a.sender?"0.3em":"1.3em"),i=s&&s.sender===a.sender?"2px":"12px";return r.a.createElement("div",{style:{width:"100%",paddingBottom:i}},r.a.createElement(v.Row,{style:{paddingLeft:"2px"}},r.a.createElement(v.Col,{xs:11,sm:10,md:9},r.a.createElement("div",{style:{height:"0px"}},s&&s.sender===a.sender?r.a.createElement("div",null):r.a.createElement(H,{text:a.sender})),r.a.createElement("div",{style:{paddingLeft:"48px"}},r.a.createElement("div",{style:x({},q.theirMessage,{borderRadius:o}),onMouseEnter:function(){return e.setState({selected:!0})},onMouseLeave:function(){return e.setState({selected:!1})}},a.text))),r.a.createElement(v.Col,{xs:12},this.renderReads())))},t}(a.Component),q={theirMessage:{cusor:"auto",color:"black",float:"left",padding:"12px",fontSize:"15px",backgroundColor:"#f1f0f0"}},Q=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={selected:!1},t}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.creds,n=e.chatId,a=e.lastMessage,s=e.message,o=e.nextMessage;return s?s.sender==t.userName?r.a.createElement(j,{creds:t,chatId:n,lastMessage:a,message:s,nextMessage:o}):r.a.createElement(V,{creds:t,chatId:n,lastMessage:a,message:s,nextMessage:o}):r.a.createElement("div",null)},t}(a.Component),X=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={value:""},t}y(t,e);var n=t.prototype;return n.handleChange=function(e){this.setState({value:e.target.value})},n.handleSubmit=function(e){var t,n,a,r,s=this;e.preventDefault(),t=this.props.creds,n=this.props.chatId,a={text:this.state.value},r=function(){return s.setState({value:""})},p.a.post(S(t)+"/chats/"+n+"/messages/",a,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){r&&r(e.data)})).catch((function(e){console.log("Send Messages Error",e)}))},n.render=function(){return r.a.createElement("div",{style:{position:"absolute",bottom:"12px",width:"90%",left:"5%"}},r.a.createElement("form",{id:"new-msg-form",onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{style:Z.inputContainer},r.a.createElement(k,{label:"Send a message...",value:this.state.value,handleChange:this.handleChange.bind(this),style:{borderColor:"white",width:"calc(100% - 18px - 56px)"}}),r.a.createElement("div",{style:{float:"right",position:"relative",top:"1px",right:"1px"}},r.a.createElement(P,{type:"submit",icon:"send"})))))},t}(r.a.Component),Z={inputContainer:{width:"100%",borderRadius:"24px",backgroundColor:"white",border:"1px solid rgb(217, 217, 217)"}},$=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderMessages=function(e){var t=this,n=Object.keys(e);return n.map((function(a,s){var o=e[a],i=0==s?null:n[s-1],l=s==n.length-1?null:n[s+1];return r.a.createElement(Q,{key:"message_"+s,creds:t.props.creds,chatId:t.props.chatId,lastMessage:e[i],message:o,nextMessage:e[l]})}))},n.componentDidUpdate=function(){void 0!=this.el&&this.el.scrollIntoView({behavior:"smooth"})},n.render=function(){var e=this,t=this.props,n=t.messages,a=t.chats,s=t.creds,o=t.chatId,i=a&&a[o];return null===s?r.a.createElement(F,null):void 0===s?r.a.createElement(z,null):s&&null!==a&&c.a.isEmpty(a)?r.a.createElement(I,null):r.a.createElement("div",{style:{display:"flex",maxHeight:"100vh",backgroundColor:"#f0f0f0"}},r.a.createElement(T,{chat:i}),r.a.createElement("div",{style:ee.feedContainer},r.a.createElement("div",{style:{height:"92px"}}),this.renderMessages(n),r.a.createElement("div",{ref:function(t){e.el=t}})),r.a.createElement(X,{chatId:o,creds:s}))},t}(a.Component),ee={feedContainer:{position:"absolute",top:"0px",height:"calc(100% - 64px)",width:"100%",overflow:"scroll",borderRadius:"0px 0px 24px 24px",backgroundColor:"white"}},te=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={activeChat:null,value:""},t}y(t,e);var n=t.prototype;return n.handleChange=function(e){this.setState({value:e.target.value})},n.handleSubmit=function(e){var t,n,a;e.preventDefault(),t=this.props.creds,n=this.props.chat.id,a={title:this.state.value},p.a.patch(S(t)+"/chats/"+n+"/",a,{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){})).catch((function(e){console.log("Edit Chat Error",e)}))},n.componentDidUpdate=function(){this.props.chat.title!==this.state.value&&this.state.activeChat!==this.props.chat.id&&this.setState({value:this.props.chat.title,activeChat:this.props.chat.id})},n.render=function(){return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(k,{label:"Rename this Chat",value:this.state.value,default:this.props.chat.title,handleChange:this.handleChange.bind(this),style:{fontSize:"16px",fontWeight:"600",textAlign:"center",border:"0px solid white",width:"calc(100% - 24px)"}}))},t}(r.a.Component),ne=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={selected:!1},t}y(t,e);var n=t.prototype;return n.onRemovePerson=function(){var e,t,n;e=this.props.creds,t=this.props.chat.id,n=this.props.person.person,p.a.patch(S(e)+"/chats/"+t+"/people/",{username:n},{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Person Error",e)}))},n.render=function(){var e=this,t=this.props,n=t.person,a=t.chat,s=t.creds;return n?r.a.createElement("div",{onMouseEnter:function(){return e.setState({selected:!0})},onMouseLeave:function(){return e.setState({selected:!1})}},r.a.createElement("div",{style:{padding:"2px",height:"0px"}},r.a.createElement(H,{text:n.person})),r.a.createElement("div",{style:{paddingLeft:"52px",height:"44px",position:"relative",top:"10px",fontSize:"15px"}},n.person!==a.admin?n.person:n.person+" (Admin)"),this.state.selected&&s.userName===a.admin&&n.person!==a.admin&&r.a.createElement("div",{style:{float:"right",height:"0px",position:"relative",bottom:"44px"}},r.a.createElement(P,{theme:"danger",icon:"delete",onClick:function(){return e.onRemovePerson()}}))):r.a.createElement("div",null)},t}(a.Component),ae=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={value:""},t}y(t,e);var n=t.prototype;return n.handleChange=function(e){this.setState({value:e.target.value})},n.handleSubmit=function(e){var t,n,a,r,s=this;e.preventDefault(),t=this.props.creds,n=this.props.chat.id,a=this.state.value,r=function(){return s.setState({value:""})},p.a.post(S(t)+"/chats/"+n+"/people/",{username:a},{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){r&&r(e.data)})).catch((function(e){console.log("New Person Error",e)}))},n.render=function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"new-msg-form"},r.a.createElement(k,{label:"Type a username",value:this.state.value,handleChange:function(t){return e.handleChange(t)},style:{width:"calc(100% - 24px)",marginBottom:"12px"}}),r.a.createElement(P,{type:"submit",value:"Add Group Member",icon:"user-add",style:{width:"100%",marginBottom:"12px"}}))},t}(r.a.Component),re=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderPeople=function(e){var t=this;return e.map((function(e,n){return r.a.createElement(ne,{key:"person_"+n,person:e,creds:t.props.creds,chat:t.props.chat})}))},n.render=function(){var e=this.props,t=e.creds,n=e.chat;return n?r.a.createElement("div",null,this.renderPeople(n.people),r.a.createElement("div",{style:{height:"12px"}}),n.admin===t.userName&&r.a.createElement(ae,{creds:t,chat:n})):r.a.createElement("div",null)},t}(r.a.Component),se=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderOnePerson=function(e){return r.a.createElement(v.Col,{xs:6,style:{paddingTop:"22px",height:"80px"}},r.a.createElement("div",{style:{margin:"auto",width:"33%"}},r.a.createElement(H,{text:e[0].person})))},n.renderTwoPeople=function(e){return r.a.createElement(v.Col,{xs:6,style:{paddingTop:"22px",height:"80px"}},r.a.createElement("div",{style:{margin:"auto",width:"50%"}},r.a.createElement(H,{text:e[0].person,style:{float:"left",position:"relative",right:"5px"}}),r.a.createElement(H,{text:e[1].person,style:{float:"right",position:"relative",left:"5px",bottom:"44px",zIndex:11}})))},n.renderThreePeople=function(e){return r.a.createElement(v.Col,{xs:6,style:{paddingTop:"22px",height:"80px"}},r.a.createElement("div",{style:{margin:"auto",width:"50%"}},r.a.createElement(H,{text:e[0].person,style:{position:"relative",top:"10px"}}),r.a.createElement(H,{text:e[1].person,style:{float:"right",position:"relative",right:"8px",bottom:"56px",zIndex:11}}),r.a.createElement(H,{text:e[2].person,style:{float:"right",position:"relative",left:"5px",bottom:"78px",zIndex:11}})))},n.render=function(){var e=this.props,t=e.chat,n=e.creds,a=t?t.people.slice(0,3):[];return t?r.a.createElement("div",{style:oe.settingsContainer},r.a.createElement("div",{style:{width:"90%",paddingLeft:"5%"}},r.a.createElement(v.Row,null,r.a.createElement(v.Col,{xs:3}),1==a.length&&this.renderOnePerson(a),2==a.length&&this.renderTwoPeople(a),3==a.length&&this.renderThreePeople(a),r.a.createElement(v.Col,{xs:3})),r.a.createElement(te,{chat:t,creds:n}),r.a.createElement("div",{style:{fontSize:"17px",padding:"12px",paddingBottom:"0px",fontWeight:"600"}},"People"),r.a.createElement("div",{style:{height:"12px"}}),r.a.createElement(re,{creds:n,chat:t}),t.admin===n.userName&&r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:"17px",padding:"12px",paddingBottom:"0px",fontWeight:"600"}},"Options"),r.a.createElement("div",{style:{height:"12px"}}),r.a.createElement(P,{value:"Delete",theme:"danger",icon:"delete",onClick:function(){return e=n,a=t.id,void p.a.delete(S(e)+"/chats/"+a+"/",{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(e){})).catch((function(e){console.log("Delete Chat Error",e)}));var e,a},style:{width:"100%",marginBottom:"12px"}})))):r.a.createElement("div",{style:{display:"flex",width:"90%",paddingLeft:"5%",borderLeft:"1px solid #afafaf"}})},t}(a.Component),oe={settingsContainer:{height:"100%",maxHeight:"100vh",borderLeft:"1px solid #afafaf",backgroundColor:"white"}};Object(v.setConfiguration)({maxScreenClass:"xl",gutterWidth:0});var ie=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={creds:null,chats:null,messages:{},activeChat:null},t}y(t,e);var n=t.prototype;return n.onConnect=function(e){var t;this.setState({creds:e}),t=e,p.a.get(S(t)+"/chats/",{headers:{"Public-Key":t.publicKey,"User-Name":t.userName,"User-Secret":t.userPassword}}).then((function(e){200===e.status&&t.onGetChats&&t.onGetChats(e.data)})).catch((function(e){console.log("Fetch Chats Error",e)})),this.props.onConnect&&this.props.onConnect(e)},n.onFailAuth=function(e){this.setState({creds:void 0}),this.props.onFailAuth&&this.props.onFailAuth(e)},n.setActiveChat=function(e){this.setState({activeChat:e}),function(e,t){p.a.get(S(e)+"/chats/"+t+"/messages/",{headers:{"Public-Key":e.publicKey,"User-Name":e.userName,"User-Secret":e.userPassword}}).then((function(n){200===n.status&&e.onGetMessages&&e.onGetMessages(t,n.data)})).catch((function(e){console.log("Fetch Messages Error",e)}))}(this.state.creds,e)},n.onGetChats=function(e){e.length>0&&this.setActiveChat(e[0].id),this.setState({chats:c.a.mapKeys(e,"id")}),this.props.onGetChats&&this.props.onGetChats(e)},n.onNewChat=function(e){var t=this.state.chats;t[e.id]=e,this.setState({chats:t,activeChat:e.id}),this.props.onNewChat&&this.props.onNewChat(e)},n.onEditChat=function(e){var t=this.state.chats;t[e.id]=e,this.setState({chats:t}),this.props.onEditChat&&this.props.onEditChat(e)},n.onDeleteChat=function(e){var t=this.state.chats;t[e.id]=void 0,this.setState({chats:t}),this.props.onDeleteChat&&this.props.onDeleteChat(e)},n.onGetMessages=function(e,t){this.setState({messages:c.a.mapKeys(t,"id")}),this.props.onGetMessages&&this.props.onGetMessages(e,t)},n.onNewMessage=function(e,t){if(e===this.state.activeChat){var n=this.state.messages;n[t.id]=t,this.setState({messages:n})}this.props.onNewMessage&&this.props.onNewMessage(e,t)},n.onEditMessage=function(e,t){if(e===this.state.activeChat){var n=this.state.messages;n[t.id]=t,this.setState({messages:n})}this.props.onEditMessage&&this.props.onEditMessage(e,t)},n.onDeleteMessage=function(e,t){if(e===this.state.activeChat){var n=this.state.messages;n[t.id]=void 0,this.setState({messages:n})}this.props.onDeleteMessage&&this.props.onDeleteMessage(e,t)},n.render=function(){var e=this,t=this.props.height;return r.a.createElement("div",null,r.a.createElement(w,x({},this.props,{onConnect:function(t){return e.onConnect(t)},onFailAuth:function(t){return e.onFailAuth(t)},onGetChats:function(t){return e.onGetChats(t)},onNewChat:function(t){return e.onNewChat(t)},onEditChat:function(t){return e.onEditChat(t)},onDeleteChat:function(t){return e.onDeleteChat(t)},onAddPerson:function(t){return e.onEditChat(t)},onRemovePerson:function(t){return e.onEditChat(t)},onGetMessages:function(t,n){return e.onGetMessages(t,n)},onNewMessage:function(t,n){return e.onNewMessage(t,n)},onEditMessage:function(t,n){return e.onEditMessage(t,n)},onDeleteMessage:function(t,n){return e.onDeleteMessage(t,n)}})),r.a.createElement(v.Row,null,r.a.createElement(v.Col,{sm:3,style:{height:t||"",overflow:"scroll"}},r.a.createElement(K,{creds:this.state.creds,chats:this.state.chats,activeChat:this.state.activeChat,onChatClick:function(t){return e.setActiveChat(t)},renderNewChatForm:this.props.renderNewChatForm})),r.a.createElement(v.Col,{sm:6,style:{height:t||"",overflow:"scroll"}},r.a.createElement($,{creds:this.state.creds,chats:this.state.chats,chatId:this.state.activeChat,messages:this.state.messages})),r.a.createElement(v.Col,{sm:3,style:{height:t||"",overflow:"scroll"}},r.a.createElement(se,{creds:this.state.creds,chat:this.state.chats&&this.state.chats[this.state.activeChat]}))))},t}(a.Component),le=function(e){return e.hideExample?r.a.createElement(w,e):r.a.createElement(ie,e)};var ce=function(e){return r.a.createElement(le,e)},he=[{userName:"John_Doe",userPassword:"pass1234"},{userName:"Jane_Smith",userPassword:"pass1234"},{userName:"Adam_La_Morre",userPassword:"pass1234"}];function pe(){var e=he[Math.floor(Math.random()*he.length)];return r.a.createElement("div",{style:{width:"66vw",backgroundColor:"#e6f7ff"}},r.a.createElement(ce,{development:!0,publicKey:"1ed59673-1fd6-46ed-9eb9-56239a6a4f82",userName:e.userName,userPassword:e.userPassword,onNewMessage:function(e,t){return console.log("COME ON")},height:"66vh"}))}o.a.render(r.a.createElement(pe,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.56683c38.chunk.js.map